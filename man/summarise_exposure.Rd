% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarise_exposure.R
\name{summarise_exposure}
\alias{summarise_exposure}
\title{Compute Air Pollutant Exposure for Given Time Windows}
\usage{
summarise_exposure(
  participants_df,
  air_quality_df,
  date_col,
  pollutant_col,
  start_col,
  end_col,
  county_name = "county",
  state_name = "state",
  group_vars = NULL
)
}
\arguments{
\item{participants_df}{A dataframe containing participant information, including start and end dates.}

\item{air_quality_df}{A dataframe containing air quality measurements, with date and pollutant values.}

\item{date_col}{A string specifying the column name in \code{air_quality_df} that contains date values.}

\item{pollutant_col}{A string specifying the column name in \code{air_quality_df} that contains pollutant values.}

\item{start_col}{A string specifying the column name in \code{participants_df} that contains the start date.}

\item{end_col}{A string specifying the column name in \code{participants_df} that contains the end date.}

\item{county_name}{A string specifying the column name in \code{participants_df} and \code{air_quality_df} that contains county names.}

\item{state_name}{A string specifying the column name in \code{participants_df} and \code{air_quality_df} that contains state names.}

\item{group_vars}{A character vector of additional grouping variables from \code{participants_df}
(e.g., participant ID, age, smoking status). Default is \code{NULL}.}
}
\value{
A tibble containing the mean, median, and standard deviation of exposure for each
participant during their study period, along with the number of valid exposure records.
}
\description{
This function calculates the mean, median, and standard deviation of exposure
to an air pollutant for each participant based on their recorded start and end dates.
}
\examples{
library(tidyverse)

# Example air quality data (PM2.5 levels)
air_quality_df <- tibble(
  date = seq(as.Date("2000-01-01"), as.Date("2020-12-31"), by = "day"),
  pm25_level = runif(length(date), min = 5, max = 80),
  county_name = rep(c("CountyA", "CountyB", "CountyC"), length.out = length(date)),
  state_name = rep(c("StateX", "StateY", "StateZ"), length.out = length(date))
)

# Example participants data
participants_df <- tibble(
  participant_id = 1:5,
  start_date = as.Date(c("2005-06-01", "2010-01-01", "2015-03-15", "2008-07-10", "2012-09-20")),
  end_date = as.Date(c("2005-12-31", "2010-12-31", "2015-09-30", "2009-05-20", "2013-06-15")),
  age = c(65, 72, 50, 60, 58),
  county_name = c("CountyA", "CountyB", "CountyC", "CountyA", "CountyB"),
  state_name = c("StateX", "StateY", "StateZ", "StateX", "StateY"),
  smoking_status = c("Never", "Former", "Current", "Never", "Former")
)

# Compute exposure
exposure_results <- summarise_exposure(
  participants_df = participants_df,
  air_quality_df = air_quality_df,
  date_col = "date",
  pollutant_col = "pm25_level",
  start_col = "start_date",
  end_col = "end_date",
  county_name = "county_name",
  state_name = "state_name",
  group_vars = c("participant_id", "age", "smoking_status")
)

print(exposure_results)
}
